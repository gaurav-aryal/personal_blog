---
import ProjectLayout from '../../layouts/ProjectLayout.astro';

export async function getStaticPaths() {
    const projects = await Astro.glob('../../content/projects/*.md');
    
    return projects.map(project => ({
        params: { 
            slug: project.file.split('/').pop().split('.')[0]
        },
        props: { project },
    }));
}

const { project } = Astro.props;
---

<ProjectLayout frontmatter={project.frontmatter}>
    <project.Content />
</ProjectLayout>